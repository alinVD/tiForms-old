{"version":3,"sources":["js/module.es6","js/components/render.directive.client.es6","js/components/test.controller.client.es6","js/components/tiforms.service.client.es6"],"names":[],"mappings":"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","file":"tiForms.js","sourcesContent":["angular.module('tiForms', []);\n","angular.module('tiForms').directive('tiFormRender', ['tiForms',\n\n\tfunction(tiForms) {\n\n\t\tfunction renderForm(element, schema, evaluateCallback) {\n\n\t\t\tvar framework = tiForms.resolveFramework(schema),\n\t\t\t\trootElement = element,\n\t\t\t\tinputs = {};\n\n\t\t\t_.forEach(schema.elements, (options) => {\n\t\t\t\trenderElement(element, options)\n\t\t\t});\n\n\t\t\tfunction renderElement(element, iOptions) {\n\t\t\t\tresolveOptions(iOptions);\n\n\t\t\t\tvar newElement = renderStructure(element, iOptions.$structure, iOptions);\n\n\t\t\t\tif(iOptions.$evaluate)\n\t\t\t\t\trenderInput(newElement, iOptions);\n\n\t\t\t\tif(iOptions.$submit)\n\t\t\t\t\trenderSubmit(newElement, iOptions);\n\n\t\t\t}\n\n\t\t\tfunction renderInput(renderedElement, formElement) {\n\t\t\t\tif(!formElement.name) {\n\t\t\t\t\tconsole.error(`Render Error: Input ${formElement} has no name`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (inputs[formElement.name]) {\n\t\t\t\t\tconsole.error(`Render Error: Input name ${formElement.name} used on multiple inputs`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar evaluator = formElement.$evaluate instanceof Function ? formElement.$evaluate : function() { return this.filter('input').val(); };\n\t\t\t\t\tinputs[formElement.name] = function() { return evaluator.call(renderedElement, formElement); };\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction renderSubmit(renderedElement, formElement) {\n\t\t\t\tvar filter;\n\n\t\t\t\tif(formElement.$submit === true) {\n\t\t\t\t\tfilter = 'button';\n\t\t\t\t}\n\t\t\t\telse if(typeof formElement.$submit === 'string') {\n\t\t\t\t\tfilter = formElement.$submit;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(`Render Error: Submit ${formElement.$submit} has invalid type`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trenderedElement.filter(filter).click(evaluateForm);\n\t\t\t}\n\n\t\t\tfunction evaluateForm() {\n\t\t\t\tvar output = _.mapValues(inputs, (evaluator) => evaluator());\n\n\t\t\t\tevaluateCallback(output);\n\t\t\t}\n\n\t\t\tfunction renderStructure(element, structure, options) {\n\n\t\t\t\tfunction normalizeStructure(structure, nowrap) {\n\t\t\t\t\tvar normalized;\n\t\t\t\t\tif (structure instanceof Function) {\n\t\t\t\t\t\treturn normalizeStructure(structure(element, options), nowrap);\n\t\t\t\t\t} else if (structure instanceof Array) {\n\t\t\t\t\t\tif (nowrap) {\n\t\t\t\t\t\t\tconsole.error(`Render Error: Structure ${structure} has an array inside of an array, which is not parseable`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn normalized = _.map(structure, (substructure) => {\n\t\t\t\t\t\t\t\treturn normalizeStructure(substructure, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof structure === 'string') {\n\t\t\t\t\t\tnormalized = {\n\t\t\t\t\t\t\t[structure]: []\n\t\t\t\t\t\t};\n\t\t\t\t\t} else if (structure instanceof Object) {\n\t\t\t\t\t\tif (Object.keys(structure).length !== 1) {\n\t\t\t\t\t\t\tconsole.error(`Render Error: Structure ${structre} does not have exactly one key`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnormalized = structure;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(`Render Error: Structure ${structure} could not be normalized (needs to be an object with exactly one key-pair, a string, or an array containing only the former two types)`);\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (nowrap)\n\t\t\t\t\t\treturn normalized;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn [normalized]\n\t\t\t\t}\n\n\t\t\t\tvar children = normalizeStructure(structure),\n\t\t\t\t\toutput = $();\n\n\n\n\t\t\t\t/*\n\t\t\t\t\tchildren should now be an array of objects that have one field, the field name being the renderer name and the value being a substructure (though that substructure won't be normalized).\n\t\t\t\t\tExample:\n\t\t\t\t\t[{label: [\"input\"]}, {title: []}]\n\t\t\t\t */\n\n\t\t\t\t_.forEach(children, (childElement) => {\n\t\t\t\t\tvar keys = Object.keys(childElement),\n\t\t\t\t\t\tname = keys[0],\n\t\t\t\t\t\tsubstructure = childElement[name];\n\n\t\t\t\t\tif (keys.length !== 1) {\n\t\t\t\t\t\tconsole.error(`Render Error: Improper structure ${children} has element ${childElement} with too many keys (the element should have exactly one key-pair)`);\n\t\t\t\t\t} else if (name[0] === '$') {\n\t\t\t\t\t\tif (substructure)\n\t\t\t\t\t\t\tconsole.warn(`Render Warning: Structure ${structure} has a substructure for elements reference ${name}`);\n\t\t\t\t\t\tlet subElements = options[name.substring(1)];\n\t\t\t\t\t\t_.forEach(subElements, (subElement) => {\n\t\t\t\t\t\t\trenderElement(element, subElement);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet renderer = options.$renderers[name];\n\t\t\t\t\t\tif (!(renderer instanceof Function)) {\n\t\t\t\t\t\t\tconsole.error(`Render Error: Renderer ${name} resolved to ${typeof renderer} when a function was expected`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet subElement = renderer(element, options);\n\n\t\t\t\t\t\t\telement.append(subElement);\n\t\t\t\t\t\t\toutput.add(subElement);\n\t\t\t\t\t\t\toutput.add(renderStructure(subElement, substructure, options));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn output;\n\t\t\t}\n\n\t\t\tfunction resolveOptions(iOptions) {\n\t\t\t\tvar fOptions = framework[iOptions.type];\n\n\t\t\t\tif (!fOptions) {\n\t\t\t\t\tconsole.error(`Render Error: Type ${iOptions.type} not defined in framework ${framework}`);\n\t\t\t\t}\n\t\t\t\t/*\n\t\t\t\tif (_.some(required, (field) => !iOptions[field])) {\n\t\t\t\t\tconsole.error(`Render Error: Options ${iOptions} is missing required field ${field}`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t\t_.forEach(fOptions, (value, field) => {\n\t\t\t\t\tif (iOptions[field] === undefined)\n\t\t\t\t\t\tiOptions[field] = value;\n\t\t\t\t\telse if (field[0] === '$')\n\t\t\t\t\t\tconsole.warn(`Render Warning: You have overwritten core field ${field} on instance options ${iOptions}`);\n\t\t\t\t});\n\n\t\t\t\treturn iOptions;\n\t\t\t}\n\n\t\t}\n\n\t\treturn function(scope, $element, attrs) {\n\n\t\t\t/**\n\t\t\t * Base renderer function that defers the rendering to one of the built in renderers, and in the future will also be able to defer to custom element and framework renderers\n\t\t\t * @param  jQuery element  Container element.\n\t\t\t * @param  plainObject eOptions Options for the rendering element. Needs to have its type field be one of the currently defined types. In the future, custom types will be supported.\n\t\t\t * @param  plainObject fOptions Options for the form.\n\t\t\t * @return Null          No return\n\t\t\t */\n\t\t\tfunction render(element, eOptions, fOptions) {\n\n\t\t\t\tvar renderFunction;\n\n\t\t\t\tif (eOptions === fOptions) {\n\t\t\t\t\trenderFunction = render.root;\n\t\t\t\t} else if (eOptions.type) {\n\t\t\t\t\trenderFunction = render[eOptions.type];\n\t\t\t\t\tif (!renderFunction) {\n\t\t\t\t\t\tconsole.error(`Render Error: Element type '${eOptions.type}' has no defined renderer`);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"Render Error: Element type is undefined (and element isn't root)\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trender.defaults(renderFunction, eOptions, fOptions)\n\t\t\t\trenderFunction(element, eOptions, fOptions);\n\t\t\t}\n\n\t\t\trender.defaults = function(renderer, eOptions, fOptions) {\n\n\t\t\t\tfunction defaults(field, value) {\n\t\t\t\t\tif (!eOptions[field])\n\t\t\t\t\t\tif (value === 'required') {\n\t\t\t\t\t\t\tconsole.error(`Render Error: Required field ${field} not defined`);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\teOptions[field] = value;\n\t\t\t\t\telse if (eOptions[field] instanceof Array && value instanceof Array) {\n\t\t\t\t\t\t_.forEach(value, (val) => {\n\t\t\t\t\t\t\tif (!_.find(eOptions[field], val)) {\n\t\t\t\t\t\t\t\teOptions[field].push(val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_.forEach(renderer.defaults, (value, field) => {\n\t\t\t\t\tdefaults(field, value);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Basic wrapper function to call render over an array. Any renderer calling this is a container, and every container should call this.\n\t\t\t * @param  jQuery element  Container element.\n\t\t\t * @param  Array[plainObject] children Array of elements to render.\n\t\t\t * @param  plainObject fOptions Options for the form\n\t\t\t * @return Null          No return\n\t\t\t */\n\t\t\trender.children = function(element, children, fOptions) {\n\t\t\t\t_.forEach(children, (eOptions) => {\n\t\t\t\t\trender(element, eOptions, fOptions);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\trender.input = function(element, name, fOptions) {\n\t\t\t\tif (fOptions.inputs[name]) {\n\t\t\t\t\tconsole.error(\"Render Error: Conflicting input names\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfOptions.inputs[name] = element;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Renders the root form element. This should be the only renderer that calls render.chilren on the same element that it itself was called with (the element the directive is on)\n\t\t\t * @param  jQuery element  The root element of the form. The default root render function should only be called with the element the directive is on.\n\t\t\t * @param  plainObject eOptions Options for the root element. Will be the same as fOptions for this function; included for consistency.\n\t\t\t * @param  plainObject fOptions Options for the form.\n\t\t\t * @return Null          No return\n\t\t\t */\n\t\t\trender.root = function(element, eOptions, fOptions) {\n\t\t\t\trender.children(element, fOptions.elements, fOptions);\n\t\t\t};\n\n\t\t\trender.root.defaults = {\n\t\t\t\tname: 'required',\n\t\t\t\telements: [{\n\t\t\t\t\ttype: 'submit'\n\t\t\t\t}],\n\t\t\t\tinputs: {},\n\t\t\t\tsubmit: (scope, element, fOptions) => { //fOptions argument shouldn't be needed (the this keyword should be substituted in the fucntion body, but the transpiler doesn't work with it)\n\t\t\t\t\tscope[fOptions.name] = _.reduce(fOptions.inputs, (output, inputElement, inputName) => {\n\t\t\t\t\t\toutput[inputName] = inputElement.val();\n\t\t\t\t\t\treturn output;\n\t\t\t\t\t}, {});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\trender.text = function(element, eOptions, fOptions) {\n\t\t\t\tvar $container = $('<div class=\"form-group\">'),\n\t\t\t\t\t$input = $(`<input type=\"text\" id=\"${fOptions.name}.${eOptions.value}\" />`).addClass('form-control'),\n\t\t\t\t\t$label = eOptions.label ? $(`<label for=\"${fOptions.name}.${eOptions.name}\">${eOptions.label}</label>`) : null;\n\n\t\t\t\t$input.attr('placeholder', eOptions.placeholder);\n\n\t\t\t\t$container.appendTo(element).append($label).append($input);\n\n\t\t\t\trender.input($input, eOptions.name, fOptions);\n\t\t\t};\n\n\t\t\trender.text.defaults = {\n\t\t\t\tname: 'required'\n\t\t\t};\n\n\t\t\trender.title = function(element, eOptions, fOptions) {\n\t\t\t\tvar $title = $(`<h${eOptions.size}>${eOptions.text}<h${eOptions.size}>`),\n\t\t\t\t\t$subtitle = eOptions.subtext ? $(`<small> ${eOptions.subtext}</small>`) : null,\n\t\t\t\t\t$separator = eOptions.separator ? $(\"<hr>\") : null;\n\n\t\t\t\telement.append($title.append($subtitle)).append($separator);\n\t\t\t};\n\n\t\t\trender.title.defaults = {\n\t\t\t\tsize: 4,\n\t\t\t\ttext: 'Title Text Missing'\n\t\t\t};\n\n\t\t\trender.submit = function(element, eOptions, fOptions) {\n\t\t\t\tvar $submit = $(`<button class=\"btn btn-default\">${eOptions.text}</button>`).click((event) => {\n\t\t\t\t\tfOptions.submit(scope, element, fOptions);\n\t\t\t\t});\n\n\t\t\t\telement.append($submit);\n\t\t\t};\n\n\t\t\trender.submit.defaults = {\n\t\t\t\ttext: \"Submit\"\n\t\t\t};\n\n\t\t\tscope.$watch(attrs.tiFormRender, (newVal) => {\n\t\t\t\trenderForm($element, newVal, function(formOutput) {\n\t\t\t\t\tscope.output = formOutput;\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t}\n]);","angular.module('tiForms').controller('testCtrl', ['$scope',\n\tfunction($scope) {\n\t\t$scope.testForm = {\n\t\t\tname: \"Test Form\",\n\t\t\telements: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'submit'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}\n]);","angular.module('tiForms').factory('tiForms', [\n\n\tfunction() {\n\t\tfunction resolveFramework() {\n\t\t\treturn {\n\t\t\t\ttitle: {\n\t\t\t\t\tsize: 4,\n\t\t\t\t\ttext: 'Missing Title Text',\n\t\t\t\t\t$structure: function(element, options) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttitle: options.subtitle ? ['subtitle'] : []\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\t$renderers: {\n\t\t\t\t\t\ttitle: function(element, options) {\n\t\t\t\t\t\t\treturn $(`<h${options.size}>${options.text}</h${options.size}>`);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsubtitle: function(element, options) {\n\t\t\t\t\t\t\treturn $(`<small> ${options.subtitle}</small>`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttext: {\n\t\t\t\t\t$evaluate: true,\n\t\t\t\t\t$structure: 'input',\n\t\t\t\t\t$renderers: {\n\t\t\t\t\t\tinput: function(element, options) {\n\t\t\t\t\t\t\treturn $(`<input>`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontainer: {\n\t\t\t\t\tmargin: '0',\n\t\t\t\t\tborder: '0px solid gray',\n\t\t\t\t\tborderWidth: '0px',\n\t\t\t\t\tpadding: '0',\n\t\t\t\t\t$structure: {padding: '$children'},\n\t\t\t\t\t$renderers: {\n\t\t\t\t\t\tpadding: function(element, options) {\n\t\t\t\t\t\t\treturn $(`<div></div>`).css({\n\t\t\t\t\t\t\t\tmargin: options.margin,\n\t\t\t\t\t\t\t\tborder: options.border,\n\t\t\t\t\t\t\t\tborderWidth: options.borderWidth,\n\t\t\t\t\t\t\t\tpadding: options.padding\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsubmit: {\n\t\t\t\t\t$structure: 'button',\n\t\t\t\t\t$renderers: {\n\t\t\t\t\t\tbutton: (element, options) => $('<div class=\"form-group\">').append($(`<button>${options.text}</button>`)) \n\t\t\t\t\t},\n\t\t\t\t\ttext: 'Submit'\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tresolveFramework\n\t\t};\n\t}\n]);"],"sourceRoot":"/source/"}