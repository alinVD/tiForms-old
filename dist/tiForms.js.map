{"version":3,"sources":["js/module.es6","js/components/render.directive.client.es6","js/components/test.controller.client.es6"],"names":[],"mappings":"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","file":"tiForms.js","sourcesContent":["angular.module('tiForms', []);\n","angular.module('tiForms').directive('tiFormRender', [\n\n\tfunction() {\n\n\t\treturn function(scope, $element, attrs) {\n\n\t\t\t/**\n\t\t\t * Base renderer function that defers the rendering to one of the built in renderers, and in the future will also be able to defer to custom element and framework renderers\n\t\t\t * @param  jQuery element  Container element.\n\t\t\t * @param  plainObject eOptions Options for the rendering element. Needs to have its type field be one of the currently defined types. In the future, custom types will be supported.\n\t\t\t * @param  plainObject fOptions Options for the form.\n\t\t\t * @return Null          No return\n\t\t\t */\n\t\t\tfunction render(element, eOptions, fOptions) {\n\n\t\t\t\tvar renderFunction;\n\n\t\t\t\tif (eOptions === fOptions) {\n\t\t\t\t\trenderFunction = render.root;\n\t\t\t\t} else if (eOptions.type) {\n\t\t\t\t\trenderFunction = render[eOptions.type];\n\t\t\t\t\tif (!renderFunction) {\n\t\t\t\t\t\tconsole.error(`Render Error: Element type '${eOptions.type}' has no defined renderer`);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"Render Error: Element type is undefined (and element isn't root)\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trender.defaults(renderFunction, eOptions, fOptions)\n\t\t\t\trenderFunction(element, eOptions, fOptions);\n\t\t\t}\n\n\t\t\trender.defaults = function(renderer, eOptions, fOptions) {\n\n\t\t\t\tfunction defaults(field, value) {\n\t\t\t\t\tif (!eOptions[field])\n\t\t\t\t\t\tif(value === 'required') {\n\t\t\t\t\t\t\tconsole.error(`Render Error: Required field ${field} not defined`);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\teOptions[field] = value;\n\t\t\t\t\telse if (eOptions[field] instanceof Array && value instanceof Array) {\n\t\t\t\t\t\t_.forEach(value, (val) => {\n\t\t\t\t\t\t\tif (!_.find(eOptions[field], val)) {\n\t\t\t\t\t\t\t\teOptions[field].push(val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_.forEach(renderer.defaults, (value, field) => {\n\t\t\t\t\tdefaults(field, value);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Basic wrapper function to call render over an array. Any renderer calling this is a container, and every container should call this.\n\t\t\t * @param  jQuery element  Container element.\n\t\t\t * @param  Array[plainObject] children Array of elements to render.\n\t\t\t * @param  plainObject fOptions Options for the form\n\t\t\t * @return Null          No return\n\t\t\t */\n\t\t\trender.children = function(element, children, fOptions) {\n\t\t\t\t_.forEach(children, (eOptions) => {\n\t\t\t\t\trender(element, eOptions, fOptions);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\trender.input = function(element, name, fOptions) {\n\t\t\t\tif(fOptions.inputs[name]) {\n\t\t\t\t\tconsole.error(\"Render Error: Conflicting input names\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfOptions.inputs[name] = element;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Renders the root form element. This should be the only renderer that calls render.chilren on the same element that it itself was called with (the element the directive is on)\n\t\t\t * @param  jQuery element  The root element of the form. The default root render function should only be called with the element the directive is on.\n\t\t\t * @param  plainObject eOptions Options for the root element. Will be the same as fOptions for this function; included for consistency.\n\t\t\t * @param  plainObject fOptions Options for the form.\n\t\t\t * @return Null          No return\n\t\t\t */\n\t\t\trender.root = function(element, eOptions, fOptions) {\n\t\t\t\trender.children(element, fOptions.elements, fOptions);\n\t\t\t};\n\n\t\t\trender.root.defaults = {\n\t\t\t\tname: 'required',\n\t\t\t\telements: [{\n\t\t\t\t\ttype: 'submit'\n\t\t\t\t}],\n\t\t\t\tinputs: {},\n\t\t\t\tsubmit:  (scope, element, fOptions) => { //fOptions argument shouldn't be needed (the this keyword should be substituted in the fucntion body, but the transpiler doesn't work with it)\n\t\t\t\t\tscope[fOptions.name] = _.reduce(fOptions.inputs, (output, inputElement, inputName) => {\n\t\t\t\t\t\toutput[inputName] = inputElement.val();\n\t\t\t\t\t\treturn output;\n\t\t\t\t\t}, {});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\trender.text = function(element, eOptions, fOptions) {\n\t\t\t\tvar $container = $('<div class=\"form-group\">'),\n\t\t\t\t\t$input = $(`<input type=\"text\" id=\"${fOptions.name}.${eOptions.value}\" />`).addClass('form-control'),\n\t\t\t\t\t$label = eOptions.label ? $(`<label for=\"${fOptions.name}.${eOptions.name}\">${eOptions.label}</label>`) : null;\n\n\t\t\t\t$input.attr('placeholder', eOptions.placeholder);\n\n\t\t\t\t$container.appendTo(element).append($label).append($input);\n\n\t\t\t\trender.input($input, eOptions.name, fOptions);\n\t\t\t};\n\n\t\t\trender.text.defaults = {\n\t\t\t\tname: 'required'\n\t\t\t};\n\n\t\t\trender.title = function(element, eOptions, fOptions) {\n\t\t\t\tvar $title = $(`<h${eOptions.size}>${eOptions.text}<h${eOptions.size}>`),\n\t\t\t\t\t$subtitle = eOptions.subtext ? $(`<small> ${eOptions.subtext}</small>`) : null,\n\t\t\t\t\t$separator = eOptions.separator ? $(\"<hr>\") : null;\n\n\t\t\t\telement.append($title.append($subtitle)).append($separator);\n\t\t\t};\n\n\t\t\trender.title.defaults = {\n\t\t\t\tsize: 4,\n\t\t\t\ttext: 'Title Text Missing'\n\t\t\t};\n\n\t\t\trender.submit = function(element, eOptions, fOptions) {\n\t\t\t\tvar $submit = $(`<button class=\"btn btn-default\">${eOptions.text}</button>`).click((event) => {\n\t\t\t\t\tfOptions.submit(scope, element, fOptions);\n\t\t\t\t});\n\n\t\t\t\telement.append($submit);\n\t\t\t};\n\n\t\t\trender.submit.defaults = {\n\t\t\t\ttext: \"Submit\"\n\t\t\t};\n\n\t\t\tscope.$watch(attrs.tiFormRender, (newVal) => {\n\t\t\t\trender($element, newVal, newVal);\n\t\t\t});\n\t\t};\n\t}\n]);","angular.module('tiForms').controller('testCtrl', ['$scope',\n\tfunction($scope) {\n\t\t$scope.testForm = {\n\t\t\tname: \"Test Form\",\n\t\t\telements: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'title',\n\t\t\t\t\tsize: 1,\n\t\t\t\t\ttext: 'Test large title',\n\t\t\t\t\tseparator: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tplaceholder: 'test placeholder',\n\t\t\t\t\tlabel: 'test label',\n\t\t\t\t\tname: \"input1\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}\n]);"],"sourceRoot":"/source/"}